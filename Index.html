<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>definitely not an easter egg</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=VT323&family=Fira+Code:wght@300;400;600&display=swap');

  :root {
    --green: #00ff41;
    --dark: #0a0a0a;
    --mid: #0d1117;
    --red: #ff3333;
    --yellow: #ffdd00;
    --cyan: #00ffff;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    background: var(--dark);
    color: var(--green);
    font-family: 'Fira Code', monospace;
    overflow: hidden;
    height: 100vh;
    width: 100vw;
    cursor: none;
  }

  canvas#matrix {
    position: fixed;
    top: 0; left: 0;
    opacity: 0.07;
    pointer-events: none;
    z-index: 0;
  }

  #cursor {
    position: fixed;
    width: 14px; height: 14px;
    border: 2px solid var(--green);
    border-radius: 50%;
    pointer-events: none;
    z-index: 9999;
    transform: translate(-50%, -50%);
    transition: transform 0.05s;
    box-shadow: 0 0 8px var(--green);
  }

  #screen {
    position: relative;
    z-index: 10;
    height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 0;
    padding: 20px;
  }

  #title-area {
    text-align: center;
    margin-bottom: 30px;
  }

  #title-area h1 {
    font-family: 'VT323', monospace;
    font-size: clamp(32px, 6vw, 72px);
    color: var(--green);
    text-shadow: 0 0 20px var(--green), 0 0 40px var(--green);
    letter-spacing: 4px;
    animation: flicker 4s infinite;
  }

  #title-area .subtitle {
    font-size: 11px;
    color: #444;
    letter-spacing: 3px;
    text-transform: uppercase;
    margin-top: 6px;
  }

  @keyframes flicker {
    0%,19%,21%,23%,25%,54%,56%,100% { opacity: 1; text-shadow: 0 0 20px var(--green), 0 0 40px var(--green); }
    20%,24%,55% { opacity: 0.4; text-shadow: none; }
  }

  #terminal {
    width: min(700px, 95vw);
    background: #050505;
    border: 1px solid #1a3a1a;
    border-radius: 4px;
    box-shadow: 0 0 40px rgba(0,255,65,0.08), inset 0 0 60px rgba(0,0,0,0.5);
    overflow: hidden;
  }

  #terminal-bar {
    background: #111;
    padding: 10px 14px;
    display: flex;
    align-items: center;
    gap: 8px;
    border-bottom: 1px solid #1a3a1a;
  }

  .dot { width: 12px; height: 12px; border-radius: 50%; }
  .dot.red { background: #ff5f57; }
  .dot.yellow { background: #febc2e; }
  .dot.green { background: #28c840; }

  #terminal-bar span {
    margin-left: auto;
    font-size: 11px;
    color: #333;
    letter-spacing: 2px;
  }

  #output {
    padding: 20px;
    min-height: 200px;
    max-height: 45vh;
    overflow-y: auto;
    font-size: 13px;
    line-height: 1.8;
    scrollbar-width: thin;
    scrollbar-color: #1a3a1a transparent;
  }

  .line { display: block; }
  .line.prompt::before { content: '$ '; color: var(--green); }
  .line.response { color: #7a7a7a; padding-left: 14px; }
  .line.error { color: var(--red); padding-left: 14px; }
  .line.success { color: var(--green); padding-left: 14px; }
  .line.warn { color: var(--yellow); padding-left: 14px; }
  .line.cyan { color: var(--cyan); padding-left: 14px; }
  .line.blank { height: 8px; display: block; }
  .line.ascii { color: var(--green); padding-left: 14px; font-size: 11px; line-height: 1.4; white-space: pre; }

  #input-row {
    display: flex;
    padding: 12px 20px;
    border-top: 1px solid #1a3a1a;
    align-items: center;
    gap: 8px;
  }

  #input-row span { color: var(--green); font-size: 13px; }

  #cmd-input {
    background: transparent;
    border: none;
    outline: none;
    color: var(--green);
    font-family: 'Fira Code', monospace;
    font-size: 13px;
    flex: 1;
    caret-color: var(--green);
  }

  #cmd-input::placeholder { color: #1a3a1a; }

  #hint-bar {
    margin-top: 18px;
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
    justify-content: center;
  }

  .hint-btn {
    background: transparent;
    border: 1px solid #1a3a1a;
    color: #2a5a2a;
    font-family: 'Fira Code', monospace;
    font-size: 11px;
    padding: 5px 12px;
    border-radius: 2px;
    cursor: pointer;
    transition: all 0.2s;
    letter-spacing: 1px;
  }

  .hint-btn:hover {
    border-color: var(--green);
    color: var(--green);
    box-shadow: 0 0 10px rgba(0,255,65,0.2);
    background: rgba(0,255,65,0.03);
  }

  #chaos-overlay {
    position: fixed;
    inset: 0;
    z-index: 1000;
    pointer-events: none;
    display: none;
  }

  .bug {
    position: absolute;
    font-size: 24px;
    pointer-events: none;
    user-select: none;
    animation: crawl linear infinite;
  }

  @keyframes crawl {
    0% { transform: translate(0,0) rotate(0deg); }
    25% { transform: translate(20px,-15px) rotate(90deg); }
    50% { transform: translate(-10px, 10px) rotate(180deg); }
    75% { transform: translate(15px, 5px) rotate(270deg); }
    100% { transform: translate(0,0) rotate(360deg); }
  }

  .coffee-float {
    position: fixed;
    font-size: 32px;
    pointer-events: none;
    animation: floatUp 3s ease-in forwards;
    z-index: 500;
  }
  @keyframes floatUp {
    0% { opacity: 1; transform: translateY(0) scale(1); }
    100% { opacity: 0; transform: translateY(-200px) scale(1.5); }
  }

  .glitch {
    animation: glitchIt 0.3s steps(2) forwards;
  }
  @keyframes glitchIt {
    0% { transform: skew(0); filter: none; }
    33% { transform: skew(-5deg) translateX(4px); filter: hue-rotate(90deg); }
    66% { transform: skew(3deg) translateX(-4px); filter: hue-rotate(180deg); }
    100% { transform: skew(0); filter: none; }
  }

  #score-badge {
    position: fixed;
    top: 16px;
    right: 20px;
    font-size: 11px;
    color: #2a5a2a;
    letter-spacing: 2px;
    z-index: 100;
    text-align: right;
  }
  #score-badge .val { color: var(--green); font-size: 16px; display: block; }
</style>
</head>
<body>

<canvas id="matrix"></canvas>
<div id="cursor"></div>
<div id="chaos-overlay"></div>

<div id="score-badge">
  CHAOS LEVEL
  <span class="val" id="score-val">0</span>
</div>

<div id="screen">
  <div id="title-area">
    <h1>PRODUCTION IS FINE</h1>
    <div class="subtitle">totally normal dev environment Â· est. 2024</div>
  </div>

  <div id="terminal">
    <div id="terminal-bar">
      <div class="dot red"></div>
      <div class="dot yellow"></div>
      <div class="dot green"></div>
      <span>bash â€” definitely-not-on-fire</span>
    </div>
    <div id="output">
      <span class="line prompt">whoami</span>
      <span class="line response">a developer who has not slept since the last deploy</span>
      <span class="line blank"></span>
      <span class="line prompt">git status</span>
      <span class="line warn">On branch main (there is no going back)</span>
      <span class="line error">nothing to commit, everything to fear</span>
      <span class="line blank"></span>
    </div>
    <div id="input-row">
      <span>$&nbsp;</span>
      <input id="cmd-input" type="text" autocomplete="off" spellcheck="false" placeholder="type a command..." autofocus />
    </div>
  </div>

  <div id="hint-bar">
    <button class="hint-btn" onclick="runCmd('help')">help</button>
    <button class="hint-btn" onclick="runCmd('git blame')">git blame</button>
    <button class="hint-btn" onclick="runCmd('npm install')">npm install</button>
    <button class="hint-btn" onclick="runCmd('sudo make coffee')">sudo make coffee</button>
    <button class="hint-btn" onclick="runCmd('rm -rf node_modules')">rm -rf node_modules</button>
    <button class="hint-btn" onclick="runCmd('deploy')">deploy</button>
  </div>
</div>

<script>
// Matrix rain
const canvas = document.getElementById('matrix');
const ctx = canvas.getContext('2d');
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;
const cols = Math.floor(canvas.width / 16);
const drops = Array(cols).fill(1);
setInterval(() => {
  ctx.fillStyle = 'rgba(0,0,0,0.05)';
  ctx.fillRect(0,0,canvas.width,canvas.height);
  ctx.fillStyle = '#00ff41';
  ctx.font = '14px monospace';
  drops.forEach((y,i) => {
    const ch = String.fromCharCode(0x30A0 + Math.random()*96);
    ctx.fillText(ch, i*16, y*16);
    if(y*16 > canvas.height && Math.random() > 0.975) drops[i]=0;
    drops[i]++;
  });
}, 40);

// Custom cursor
const cursor = document.getElementById('cursor');
document.addEventListener('mousemove', e => {
  cursor.style.left = e.clientX + 'px';
  cursor.style.top = e.clientY + 'px';
});

// Score
let chaos = 0;
function addChaos(n) {
  chaos += n;
  document.getElementById('score-val').textContent = chaos;
  if(chaos > 0 && chaos % 50 === 0) {
    document.getElementById('score-val').style.color = ['#ff3333','#ffdd00','#00ffff','#ff00ff','#00ff41'][Math.floor(Math.random()*5)];
  }
}

// Terminal
const output = document.getElementById('output');
const input = document.getElementById('cmd-input');

function print(text, cls='response', delay=0) {
  return new Promise(res => setTimeout(() => {
    const el = document.createElement('span');
    el.className = `line ${cls}`;
    el.textContent = text;
    output.appendChild(el);
    output.scrollTop = output.scrollHeight;
    res();
  }, delay));
}
function blank(delay=0) { return print('', 'blank', delay); }

const commands = {
  help: async () => {
    await print('Available commands (results may vary):', 'cyan');
    await blank();
    const cmds = [
      ['git blame', 'find out who broke it (it was you)'],
      ['npm install', 'download the internet'],
      ['sudo make coffee', 'critical infrastructure'],
      ['rm -rf node_modules', 'the great cleansing'],
      ['deploy', 'YOLO'],
      ['ls -la', 'look at all these problems'],
      ['ping localhost', 'do you even exist?'],
      ['cat feelings.txt', 'vulnerability++'],
      ['docker ps', 'containers of disappointment'],
      ['42', 'the answer'],
      ['hello', 'make a friend'],
      ['stack overflow', 'visit the holy land'],
    ];
    for(const [cmd, desc] of cmds) {
      await print(`  ${cmd.padEnd(24)} ${desc}`, 'response', 60);
    }
    addChaos(5);
  },

  'git blame': async () => {
    await print('Analyzing git history...', 'response', 0);
    await print('commit a7f3d1e â€” 3 years ago', 'warn', 400);
    await print('Author: You <you@company.com>', 'error', 600);
    await print('Date:   A Friday at 4:58pm', 'error', 800);
    await blank(1000);
    await print('"quick fix, won\'t break anything"', 'error', 1200);
    await blank(1400);
    await print('...it broke everything.', 'warn', 1800);
    addChaos(15);
  },

  'npm install': async () => {
    await print('npm warn deprecated everything@âˆž.0.0', 'warn');
    await print('npm warn deprecated your-hopes@0.0.1', 'warn', 200);
    const deps = Math.floor(Math.random() * 800) + 400;
    await print(`added ${deps} packages (${Math.floor(deps*1.3)} vulnerabilities found)`, 'error', 600);
    await print(`downloaded 847MB of node_modules for a 3-line app`, 'response', 900);
    await blank(1100);
    await print('âœ“ package-lock.json updated (please don\'t ask why)', 'success', 1300);
    spawnBugs(4);
    addChaos(20);
  },

  'sudo make coffee': async () => {
    await print('[sudo] password for developer: ', 'response');
    await print('Sorry, try again.', 'error', 500);
    await print('[sudo] password for developer: ', 'response', 800);
    await print('Sorry, try again.', 'error', 1300);
    await print('[sudo] password for developer: ', 'response', 1600);
    await print('3 incorrect password attempts and counting...', 'error', 2000);
    await blank(2200);
    await print('â˜• Coffee brewed anyway because caffeine > security', 'success', 2600);
    spawnCoffee();
    addChaos(10);
  },

  'rm -rf node_modules': async () => {
    await print('Deleting 847MB...', 'warn');
    await print('...', 'response', 400);
    await print('......', 'response', 800);
    await print('.........', 'response', 1200);
    await print('Done. node_modules removed.', 'success', 2000);
    await blank(2200);
    await print('Your package.json is still there.', 'warn', 2500);
    await print('Taunting you.', 'warn', 2900);
    await print('Waiting.', 'warn', 3300);
    addChaos(15);
  },

  deploy: async () => {
    document.getElementById('terminal').classList.add('glitch');
    setTimeout(() => document.getElementById('terminal').classList.remove('glitch'), 400);
    await print('ðŸš€ Deploying to production...', 'warn');
    await print('Running tests... ', 'response', 500);
    await print('Tests: SKIPPED (who has time)', 'error', 1000);
    await print('Building...', 'response', 1300);
    await print('Build: SUCCESS (somehow)', 'success', 2000);
    await print('Deploying...', 'response', 2400);
    await blank(2800);
    const outcomes = [
      ['ðŸ”¥ Production is on fire. Again.', 'error'],
      ['âœ“ Deploy successful. Users confused but alive.', 'success'],
      ['ðŸ’€ Site is down. Slack is going off.', 'error'],
      ['âœ“ It works on prod! (Don\'t touch it)', 'success'],
    ];
    const [msg, cls] = outcomes[Math.floor(Math.random()*outcomes.length)];
    await print(msg, cls, 0);
    spawnBugs(6);
    addChaos(30);
  },

  'ls -la': async () => {
    await print('total chaos', 'response');
    const files = [
      'drwxr-xr-x  technical-debt/',
      '-rw-r--r--  TODO-from-2019.txt',
      '-rw-------  passwords-definitely-not-here.txt',
      'drwxr-xr-x  that-one-folder-dont-delete/',
      '-rwxr-xr-x  script-that-nobody-understands.sh',
      '-rw-r--r--  fix-later.js (4,287 lines)',
      'drwxr-xr-x  legacy/ (do not open)',
    ];
    for(const f of files) await print(f, 'response', 120);
    addChaos(8);
  },

  'ping localhost': async () => {
    await print('PING localhost (127.0.0.1)', 'response');
    for(let i=0; i<4; i++) {
      const ms = Math.floor(Math.random()*9000)+1;
      const cls = ms > 5000 ? 'error' : ms > 2000 ? 'warn' : 'success';
      await print(`64 bytes from localhost: icmp_seq=${i+1} time=${ms}ms`, cls, i*600);
    }
    await print('Request timeout. Existential crisis detected.', 'error', 2800);
    addChaos(5);
  },

  'cat feelings.txt': async () => {
    await print('cat: feelings.txt: No such file or directory', 'error');
    await blank(400);
    await print('(we don\'t talk about feelings in this codebase)', 'response', 600);
    addChaos(5);
  },

  'docker ps': async () => {
    await print('CONTAINER ID   IMAGE          STATUS', 'cyan');
    await print('a1b2c3d4e5f6   postgres       Exited (1) 3 days ago', 'error', 200);
    await print('b2c3d4e5f6a1   redis          Up 847 days (perfect?)', 'success', 400);
    await print('c3d4e5f6a1b2   your-app       Restarting (137) endlessly', 'error', 600);
    await print('d4e5f6a1b2c3   mystery-image  Created (no one knows when)', 'warn', 800);
    addChaos(12);
  },

  '42': async () => {
    await print('The answer to life, the universe, and everything.', 'cyan');
    await print('Also the number of PRs currently blocking your release.', 'warn', 400);
    addChaos(42);
  },

  hello: async () => {
    await print('Hello, developer. Welcome to the codebase.', 'success');
    await print("We're glad you're here.", 'success', 400);
    await print("Please don't change anything.", 'error', 800);
    addChaos(5);
  },

  'stack overflow': async () => {
    await print('Opening Stack Overflow...', 'response');
    await print('Found answer from 2011.', 'warn', 600);
    await print('Top answer: "Don\'t do this."', 'error', 1000);
    await print('Accepted answer: works, no explanation.', 'warn', 1400);
    await print('Your question marked as duplicate of a question', 'error', 1800);
    await print('whose answer is your question.', 'error', 2100);
    addChaos(10);
  },
};

async function runCmd(raw) {
  const cmd = raw.trim().toLowerCase();
  const el = document.createElement('span');
  el.className = 'line prompt';
  el.textContent = raw.trim();
  output.appendChild(el);
  output.scrollTop = output.scrollHeight;
  input.value = '';

  await blank();

  if(commands[cmd]) {
    await commands[cmd]();
  } else if(cmd === '') {
    // nothing
  } else {
    await print(`command not found: ${raw.trim()} â€” have you tried googling it?`, 'error');
    addChaos(2);
  }

  await blank();
}

input.addEventListener('keydown', e => {
  if(e.key === 'Enter') runCmd(input.value);
});

// Bugs
function spawnBugs(count) {
  const overlay = document.getElementById('chaos-overlay');
  overlay.style.display = 'block';
  for(let i=0; i<count; i++) {
    const bug = document.createElement('div');
    bug.className = 'bug';
    bug.textContent = ['ðŸ›','ðŸ¦—','ðŸž','ðŸª²'][Math.floor(Math.random()*4)];
    bug.style.left = Math.random()*90 + 'vw';
    bug.style.top = Math.random()*90 + 'vh';
    bug.style.animationDuration = (2 + Math.random()*3) + 's';
    overlay.appendChild(bug);
    setTimeout(() => bug.remove(), 5000 + Math.random()*3000);
  }
  setTimeout(() => { if(!overlay.children.length) overlay.style.display='none'; }, 10000);
}

function spawnCoffee() {
  for(let i=0; i<8; i++) {
    setTimeout(() => {
      const c = document.createElement('div');
      c.className = 'coffee-float';
      c.textContent = 'â˜•';
      c.style.left = (20 + Math.random()*60) + 'vw';
      c.style.top = (50 + Math.random()*30) + 'vh';
      document.body.appendChild(c);
      setTimeout(() => c.remove(), 3000);
    }, i*150);
  }
}
</script>
</body>
</html>